<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
    <head>
        <title>Strobe Media Playback</title>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
        <script type="text/javascript" src="lib/swfobject.js">
        </script>
        <script type="text/javascript" src="lib/ParsedQueryString.js">
        </script>
        <script type="text/javascript">
            
            // Collect query parameters in an object that we can
            // forward to SWFObject:
            
            var pqs = new ParsedQueryString();
            var parameterNames = pqs.params(false);
            var parameters = {
               src: "http://mediapm.edgesuite.net/osmf/content/test/smil/elephants_dream.smil",
               //src:"rtmp://localhost:1935/live/myStream_final",	
             // src:"http://192.168.1.109:9000/stream.smil",	
             // src: "test.smil",										
                autoPlay: "false",
                verbose: true,
                controlBarAutoHide: "false",
                controlBarPosition: "bottom", 
                //plugin_youtube: "YouTubePlugin.swf",
                highQualityThreshold: 500,
                autoDynamicStreamSwitch: true,
                endOfVideoOverlay: "https://s3.amazonaws.com/tivamo-staging/images/mos/1_test/tivamo.jpg",
               	plugin_smil:"SMILPlugin.swf",
               //plugin_smil:"https://s3.amazonaws.com/tivamo_dev/flash/SMILPlugin.swf",
              // plugin_smil:"http://objects.tremormedia.com/embed/swf/osmfacudeoplugin.swf",
            };
            
            for (var i = 0; i < parameterNames.length; i++) {
                var parameterName = parameterNames[i];
                parameters[parameterName] = pqs.param(parameterName) ||
                parameters[parameterName];
            }
            
       	    var wmodeValue = "direct";
            var wmodeOptions = ["direct", "opaque", "transparent", "window"];
            if (parameters.hasOwnProperty("wmode"))
            {
            	if (wmodeOptions.indexOf(parameters.wmode) >= 0)
            	{
            		wmodeValue = parameters.wmode;
            	}	            	
            	delete parameters.wmode;
            }
            
            // Embed the player SWF:	            
            swfobject.embedSWF(
				"StrobeMediaPlayback.swf"
				, "flashContent"
				, 640
				, 480
				, "10.1.0"
				, "expressInstall.swf"
				, parameters
				, {
	                allowFullScreen: "true",
	                wmode: wmodeValue
	            }
				, {
	                name: "StrobeMediaPlayback"
	            }
			);
            
            /* Uncomment this code to be notified of playback errors in JavaScript: */
            
             function onMediaPlaybackError(playerId, code, message, detail)            
             {
             	console.log(playerId + "\n\n" + code + "\n" + message + "\n" + detail);            
             }
             
            
            
        </script>
        <style type="text/css">
        <!-- .Verdana {
            font-family: Verdana, Geneva, sans-serif;
        }
        -->
        </style>
    </head>
    <body>
        <div id="flashContent">
            <p>
                To view this page ensure that Adobe Flash Player version 
                11.1.0 or greater is installed. 
            </p>
            <script type="text/javascript"> 
                var pageHost = ((document.location.protocol == "https:") ? "https://" : "http://"); 
                document.write("<a href='http://www.adobe.com/go/getflashplayer'><img src='" 
                                + pageHost + "www.adobe.com/images/shared/download_buttons/get_flash_player.gif' alt='Get Adobe Flash player' /></a>" ); 
            </script> 
        </div>
    </body>
</html>
